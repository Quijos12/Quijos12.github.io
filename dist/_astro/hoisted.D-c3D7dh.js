import{s as S,n as p}from"./router.7tVD49SL.js";function A(e,t){const n=+e.getAttribute("data-observed-section"),o=+t.getAttribute("data-observed-section");return n-o}function T(e){const t=+e.target.getAttribute("data-observed-section"),n=e.isIntersecting;return{target:e.target,order:t,visible:n}}function k(e){let n=null;for(const o of e)o.order>-1/0&&o.visible&&(n=o);return n}function O(e){const t=document.querySelectorAll("a[href^='#']");for(const n of t){const[,o]=n.href.split("#");n.classList.toggle("active",o===e.target.id)}}document.addEventListener("astro:page-load",()=>{const e=[...document.querySelectorAll("[data-observed-section]")];e.sort(A);const t={};let n;const o=new IntersectionObserver(r=>{for(const c of r){const i=c.target.id;t[i]=T(c)}const a=k(Object.values(t))??n;a!==n&&(n=a,O(n))},{threshold:.3,rootMargin:getComputedStyle(document.documentElement).getPropertyValue("--header-height")});for(const r of e)o.observe(r)});function V(e){const n=e.parentElement?.querySelector("[data-loader]"),o=()=>{n?.classList.add("hidden")},r=()=>{n?.classList.remove("hidden")};e.addEventListener("canplay",o),e.addEventListener("playing",o),e.addEventListener("error",o),e.addEventListener("stalled",r),e.addEventListener("waiting",r)}document.addEventListener("astro:page-load",()=>{const e=document.querySelectorAll("video[data-play-on-view]"),t=new IntersectionObserver(n=>{n.forEach(o=>{o.target instanceof HTMLVideoElement&&(o.isIntersecting?o.target.play():o.target.pause())})},{threshold:.8});e.forEach(n=>{t.observe(n),V(n)})});const L=new Set,l=new WeakSet;let d,E,v=!1;function I(e){v||(v=!0,d??=e?.prefetchAll??!1,E??=e?.defaultStrategy??"hover",M(),H(),P(),U())}function M(){for(const e of["touchstart","mousedown"])document.body.addEventListener(e,t=>{s(t.target,"tap")&&f(t.target.href,{ignoreSlowConnection:!0})},{passive:!0})}function H(){let e;document.body.addEventListener("focusin",o=>{s(o.target,"hover")&&t(o)},{passive:!0}),document.body.addEventListener("focusout",n,{passive:!0}),u(()=>{for(const o of document.getElementsByTagName("a"))l.has(o)||s(o,"hover")&&(l.add(o),o.addEventListener("mouseenter",t,{passive:!0}),o.addEventListener("mouseleave",n,{passive:!0}))});function t(o){const r=o.target.href;e&&clearTimeout(e),e=setTimeout(()=>{f(r)},80)}function n(){e&&(clearTimeout(e),e=0)}}function P(){let e;u(()=>{for(const t of document.getElementsByTagName("a"))l.has(t)||s(t,"viewport")&&(l.add(t),e??=R(),e.observe(t))})}function R(){const e=new WeakMap;return new IntersectionObserver((t,n)=>{for(const o of t){const r=o.target,a=e.get(r);o.isIntersecting?(a&&clearTimeout(a),e.set(r,setTimeout(()=>{n.unobserve(r),e.delete(r),f(r.href)},300))):a&&(clearTimeout(a),e.delete(r))}})}function U(){u(()=>{for(const e of document.getElementsByTagName("a"))s(e,"load")&&f(e.href)})}function f(e,t){const n=t?.ignoreSlowConnection??!1;if(D(e,n))if(L.add(e),document.createElement("link").relList?.supports?.("prefetch")&&t?.with!=="fetch"){const o=document.createElement("link");o.rel="prefetch",o.setAttribute("href",e),document.head.append(o)}else fetch(e,{priority:"low"})}function D(e,t){if(!navigator.onLine||!t&&y())return!1;try{const n=new URL(e,location.href);return location.origin===n.origin&&(location.pathname!==n.pathname||location.search!==n.search)&&!L.has(e)}catch{}return!1}function s(e,t){if(e?.tagName!=="A")return!1;const n=e.dataset.astroPrefetch;return n==="false"?!1:t==="tap"&&(n!=null||d)&&y()?!0:n==null&&d||n===""?t===E:n===t}function y(){if("connection"in navigator){const e=navigator.connection;return e.saveData||/2g/.test(e.effectiveType)}return!1}function u(e){e();let t=!1;document.addEventListener("astro:page-load",()=>{if(!t){t=!0;return}e()})}function q(){const e=document.querySelector('[name="astro-view-transitions-fallback"]');return e?e.getAttribute("content"):"animate"}function b(e){return e.dataset.astroReload!==void 0}(S||q()!=="none")&&(document.addEventListener("click",e=>{let t=e.target;if(e.composed&&(t=e.composedPath()[0]),t instanceof Element&&(t=t.closest("a, area")),!(t instanceof HTMLAnchorElement)&&!(t instanceof SVGAElement)&&!(t instanceof HTMLAreaElement))return;const n=t instanceof HTMLElement?t.target:t.target.baseVal,o=t instanceof HTMLElement?t.href:t.href.baseVal,r=new URL(o,location.href).origin;b(t)||t.hasAttribute("download")||!t.href||n&&n!=="_self"||r!==location.origin||e.button!==0||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||e.defaultPrevented||(e.preventDefault(),p(o,{history:t.dataset.astroHistory==="replace"?"replace":"auto",sourceElement:t}))}),document.addEventListener("submit",e=>{let t=e.target;if(t.tagName!=="FORM"||e.defaultPrevented||b(t))return;const n=t,o=e.submitter,r=new FormData(n,o),a=typeof n.action=="string"?n.action:n.getAttribute("action"),c=typeof n.method=="string"?n.method:n.getAttribute("method");let i=o?.getAttribute("formaction")??a??location.pathname;const m=o?.getAttribute("formmethod")??c??"get";if(m==="dialog"||location.origin!==new URL(i,location.href).origin)return;const g={sourceElement:o??n};if(m==="get"){const w=new URLSearchParams(r),h=new URL(i);h.search=w.toString(),i=h.toString()}else g.formData=r;e.preventDefault(),p(i,g)}),I({prefetchAll:!0}));
